<div *ngIf="loading" style="text-align:center; font-size:18px; color:#555; margin-top:30px;">
  Loading profile...
</div>

<div *ngIf="errorMessage" style="text-align:center; font-size:16px; color:red; margin-top:30px;">
  {{ errorMessage }}
</div>

<div *ngIf="profile && !loading" 
     style="max-width:850px; margin:40px auto; font-family:'Segoe UI', Tahoma, sans-serif; box-shadow:0 6px 25px rgba(0,0,0,0.1); border-radius:14px; overflow:hidden; background:white; transition: transform 0.4s, box-shadow 0.4s;"
     onmouseover="this.style.transform='translateY(-6px) scale(1.01)'; this.style.boxShadow='0 14px 35px rgba(0,0,0,0.18)';"
     onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 6px 25px rgba(0,0,0,0.1)';">

  <!-- Cover/Banner (Staff) -->
  <div style="width:100%; height:200px; background:url('https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80') center/cover no-repeat; position:relative;">
    <div style="position:absolute; bottom:-75px; left:50%; transform:translateX(-50%); width:150px; height:150px; border-radius:50%; overflow:hidden; border:5px solid white; box-shadow:0 10px 25px rgba(0,0,0,0.25); background:white;">
      <img [src]="profile.photo" alt="Profile Photo" 
           style="width:100%; height:100%; object-fit:cover; transition: transform 0.4s ease;" 
           onmouseover="this.style.transform='scale(1.12)';"
           onmouseout="this.style.transform='scale(1)';"/>
    </div>
  </div>

  <!-- Profile Body -->
  <div style="padding:100px 40px 40px 40px; text-align:center;">

    <h1 style="margin:0; font-size:30px; font-weight:700; color:#2e7d32; letter-spacing:0.5px;">
      {{ profile.name }}
    </h1>
    <p style="margin:8px 0; color:#444; font-size:15px;"><strong>Email:</strong> {{ profile.email }}</p>
    <p style="margin:4px 0; color:#444; font-size:15px;"><strong>Phone:</strong> {{ profile.phone || 'N/A' }}</p>

    <hr style="margin:25px 0; border:0.6px solid #eee;">

    <!-- Info Grid -->
    <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:25px; font-size:15px; color:#333; text-align:left;">
      
      <div style="flex:1 1 220px; background:#f1f8f6; padding:15px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.05);">
        <p><strong>Gender:</strong> {{ profile.gender }}</p>
        <p><strong>Department:</strong> {{ profile.department }}</p>
        <p><strong>Post:</strong> {{ profile.position }}</p>
      </div>

      <div style="flex:1 1 220px; background:#f1f8f6; padding:15px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.05);">
        <p><strong>Join Date:</strong> {{ profile.joinDate | date:'mediumDate' }}</p>
        <p><strong>Working Hours:</strong> {{ profile.workingHours }} hrs/day</p>
        <p><strong>Contact Number:</strong> {{ profile.phone }}</p>
      </div>
    </div>

    <!-- Logout Button -->
    <button (click)="logout()" 
            style="margin-top:35px; padding:12px 30px; border:none; border-radius:25px; background:linear-gradient(135deg,#2e7d32,#66bb6a); color:white; font-weight:600; font-size:15px; cursor:pointer; transition:0.4s;"
            onmouseover="this.style.background='linear-gradient(135deg,#1b5e20,#2e7d32)'; this.style.transform='scale(1.05)';"
            onmouseout="this.style.background='linear-gradient(135deg,#2e7d32,#66bb6a)'; this.style.transform='scale(1)';">
      Logout
    </button>

  </div>
</div>

<!-- Responsive -->
<style>
@media (max-width: 768px) {
  div[style*="max-width:850px"] {
    margin:20px 12px !important;
  }
  div[style*="padding:100px 40px 40px 40px"] {
    padding:90px 20px 30px 20px !important;
  }
  div[style*="display:flex; flex-wrap:wrap"] {
    flex-direction:column !important;
    gap:18px !important;
  }
}
</style>
