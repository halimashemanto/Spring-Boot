<div *ngIf="loading" style="text-align:center; font-size:18px; color:#555; margin-top:30px;">
  Loading profile...
</div>

<div *ngIf="errorMessage" style="text-align:center; font-size:16px; color:red; margin-top:30px;">
  {{ errorMessage }}
</div>

<div *ngIf="profile && !loading" 
     style="max-width:800px; margin:40px auto; font-family:'Segoe UI', Tahoma, sans-serif; 
            box-shadow:0 6px 25px rgba(0,0,0,0.1); border-radius:12px; overflow:hidden; 
            background:white; transition: transform 0.3s, box-shadow 0.3s;"
     onmouseover="this.style.transform='translateY(-5px) scale(1.01)'; this.style.boxShadow='0 12px 30px rgba(0,0,0,0.15)';"
     onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 6px 25px rgba(0,0,0,0.1)';">

  <!-- Cover/Banner -->
  <div style="width:100%; height:200px; 
              background:url('https://images.unsplash.com/photo-1586773860418-d37222d8fce3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80') 
                         center/cover no-repeat; 
              position:relative;">
    <div style="position:absolute; bottom:-70px; left:50%; transform:translateX(-50%); 
                width:140px; height:140px; border-radius:50%; overflow:hidden; 
                border:4px solid white; box-shadow:0 8px 20px rgba(0,0,0,0.25); background:white;">
      <img [src]="profile.photo" alt="Profile Photo" 
           style="width:100%; height:100%; object-fit:cover; transition: transform 0.3s;" 
           onmouseover="this.style.transform='scale(1.1)';"
           onmouseout="this.style.transform='scale(1)';"/>
    </div>
  </div>

  <!-- Profile Body -->
  <div style="padding:90px 40px 30px 40px; text-align:center;">

    <h1 style="margin:0; font-size:28px; font-weight:700; color:#e67e22;">{{ profile.name }}</h1>
    <p style="margin:6px 0; color:#666; font-size:14px;"><strong>Email:</strong> {{ profile.email }}</p>
    <p style="margin:6px 0; color:#666; font-size:14px;"><strong>Phone:</strong> {{ profile.phone || 'N/A' }}</p>

    <!-- Status Badge -->
    <span [ngStyle]="{'background-color': getStatusColor(profile.status), 'color':'white', 'padding':'5px 14px', 'border-radius':'15px', 'font-weight':'600', 'font-size':'13px', 'display':'inline-block', 'margin':'10px 0'}">
      {{ profile.status }}
    </span>

    <hr style="margin:25px 0; border:0.5px solid #ddd;">

    <!-- Info Grid -->
    <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:20px; font-size:14px; color:#444; text-align:left;">
      
      <div style="flex:1 1 200px; background:#fff7f0; padding:15px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.05);">
        <p><strong>Gender:</strong> {{ profile.gender }}</p>
        <p><strong>Contact Number:</strong> {{ profile.phone }}</p>
        <p><strong>Status:</strong> {{ profile.status }}</p>
      </div>

      <div style="flex:1 1 200px; background:#fff7f0; padding:15px; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.05);">
        <p><strong>Join Date:</strong> {{ profile.joinDate | date:'mediumDate' }}</p>
      </div>
    </div>

    <!-- Logout Button -->
    <button (click)="logout()" 
            style="margin-top:30px; padding:12px 28px; border:none; border-radius:25px; 
                   background:linear-gradient(135deg,#e67e22,#f39c12); 
                   color:white; font-weight:600; font-size:15px; cursor:pointer; transition:0.3s;"
            onmouseover="this.style.background='linear-gradient(135deg,#d35400,#e67e22)'; this.style.transform='scale(1.05)';"
            onmouseout="this.style.background='linear-gradient(135deg,#e67e22,#f39c12)'; this.style.transform='scale(1)';">
      Logout
    </button>

  </div>
</div>

<!-- Responsive -->
<style>
@media (max-width: 768px) {
  div[style*="max-width:800px"] {
    margin:20px 10px;
  }
  div[style*="padding:90px 40px 30px 40px"] {
    padding:80px 20px 20px 20px !important;
  }
  div[style*="display:flex; flex-wrap:wrap"] {
    flex-direction:column;
    gap:15px;
  }
}
</style>
