<!-- doctor-individual-profile.html -->
<div style="max-width:850px; margin:30px auto; font-family:'Segoe UI', Tahoma, sans-serif;">

  <!-- Loading -->
  <div *ngIf="!doctor" style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:250px;">
    <div style="width:50px; height:50px; border:6px solid #ddd; border-top-color:#28a745; border-radius:50%; animation:spin 1s linear infinite;"></div>
    <p style="margin-top:12px; color:#666; font-size:15px;">Loading doctor profile…</p>
  </div>

  <!-- Profile Card -->
  <div *ngIf="doctor" 
       style="background:linear-gradient(135deg,#007bff,#6f42c1); border-radius:20px; color:white; box-shadow:0 8px 20px rgba(0,0,0,0.2); overflow:hidden; animation:fadeIn 1s ease;">

    <!-- Header -->
    <div style="display:flex; align-items:center; padding:25px;">
      
      <!-- Avatar -->
      <div style="width:110px; height:110px; border:4px solid white; border-radius:50%; overflow:hidden; flex-shrink:0; box-shadow:0 4px 10px rgba(0,0,0,0.2);">
        <img 
          [src]="'/api/files/' + doctor.photo" 
          [alt]="doctor.name + ' photo'" 
          onerror="this.src='assets/images/avatar-doctor.png';"
          style="width:100%; height:100%; object-fit:cover; transition:transform .3s;"
          onmouseover="this.style.transform='scale(1.05)'" 
          onmouseout="this.style.transform='scale(1)'"
        />
      </div>

      <!-- Name + Info -->
      <div style="margin-left:20px; flex:1;">
        <h2 style="margin:0; font-size:26px; font-weight:bold;">{{ doctor.name }}</h2>
        <p style="margin:6px 0; font-size:15px; opacity:0.9;">
          {{ doctor.department }} <span *ngIf="doctor.chamber"> · Chamber: {{ doctor.chamber }}</span>
        </p>
        <p style="margin:4px 0; font-size:13px; opacity:0.8;">Joined: {{ doctor.joinDate | date:'mediumDate' }}</p>
      </div>

      <!-- Logout -->
      <div>
        <button (click)="logout()" 
          style="padding:10px 20px; background:#ff4757; border:none; border-radius:12px; color:white; font-weight:bold; cursor:pointer; transition:.3s;">
          Logout
        </button>
      </div>
    </div>

    <!-- Body -->
    <div style="background:white; color:#333; padding:25px; display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:20px;">
      
      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.05);">
        <label style="font-size:12px; color:#555;">ID</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.id || '—' }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Email</label>
        <div style="font-weight:bold; margin-top:5px; word-break:break-word;">{{ doctor.email }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Phone</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.phone }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Gender</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.gender }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Status</label>
        <div style="margin-top:5px;">
          <span [style.background]="doctor.status==='ACTIVE' ? '#d4edda':'#f8d7da'"
                [style.color]="doctor.status==='ACTIVE' ? '#155724':'#721c24'"
                style="padding:6px 12px; border-radius:20px; font-size:13px; font-weight:bold;">
            {{ doctor.status }}
          </span>
        </div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Study</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.study }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Department</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.department }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Chamber</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.chamber }}</div>
      </div>

      <div style="background:#f1f5ff; padding:15px; border-radius:12px; text-align:center;">
        <label style="font-size:12px; color:#555;">Join Date</label>
        <div style="font-weight:bold; margin-top:5px;">{{ doctor.joinDate | date:'mediumDate' }}</div>
      </div>

    </div>
  </div>
</div>

<!-- Animations -->
<style>
@keyframes spin { to { transform: rotate(360deg);} }
@keyframes fadeIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
</style>
