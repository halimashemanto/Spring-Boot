<div *ngIf="loading" style="text-align:center; font-size:18px; color:#555; margin-top:30px;">
  Loading profile...
</div>

<div *ngIf="errorMessage" style="text-align:center; font-size:16px; color:red; margin-top:30px;">
  {{ errorMessage }}
</div>

<div *ngIf="profile && !loading" style="max-width:800px; margin:40px auto; font-family:'Segoe UI', Tahoma, sans-serif; box-shadow:0 6px 25px rgba(0,0,0,0.1); border-radius:12px; overflow:hidden; background:white; transition: transform 0.3s, box-shadow 0.3s;"
     onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 12px 30px rgba(0,0,0,0.15)';"
     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 25px rgba(0,0,0,0.1)';">

  <!-- Cover/Banner -->
  <div style="width:100%; height:180px; background:linear-gradient(135deg,#1976d2,#42a5f5); position:relative;">
    <div style="position:absolute; bottom:-70px; left:50%; transform:translateX(-50%); width:140px; height:140px; border-radius:50%; overflow:hidden; border:4px solid white; box-shadow:0 8px 20px rgba(0,0,0,0.25);">
      <img [src]="profile.photo" alt="Profile Photo" style="width:100%; height:100%; object-fit:cover; transition: transform 0.3s;" 
           onmouseover="this.style.transform='scale(1.1)';"
           onmouseout="this.style.transform='scale(1)';"/>
    </div>
  </div>

  <!-- Profile Body -->
  <div style="padding:90px 40px 30px 40px; text-align:center;">

    <h1 style="margin:0; font-size:28px; font-weight:700; color:#1976d2;">{{ profile.name }}</h1>
    <p style="margin:6px 0; color:#555; font-size:14px;"><strong>Email:</strong> {{ profile.email }}</p>
    <p style="margin:6px 0; color:#555; font-size:14px;"><strong>Phone:</strong> {{ profile.phone || 'N/A' }}</p>

    <!-- Status Badge -->
    <span [ngStyle]="{'background-color': getStatusColor(profile.status), 'color':'white', 'padding':'5px 14px', 'border-radius':'15px', 'font-weight':'600', 'font-size':'13px', 'display':'inline-block', 'margin':'10px 0'}">
      {{ profile.status }}
    </span>

    <hr style="margin:25px 0; border:0.5px solid #ddd;">

    <!-- Info Grid -->
    <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:20px; font-size:14px; color:#444; text-align:left;">
      
      <div style="flex:1 1 200px;">
        <p><strong>Gender:</strong> {{ profile.gender }}</p>
        <p><strong>Study:</strong> {{ profile.study }}</p>
        <p><strong>Chamber:</strong> {{ profile.chamber }}</p>
      </div>

      <div style="flex:1 1 200px;">
        <p><strong>Join Date:</strong> {{ profile.joinDate | date:'mediumDate' }}</p>
        <p><strong>Department:</strong> {{ profile.departmentName || 'N/A' }}</p>
        <p><strong>Dept Description:</strong> {{ profile.departmentDescription || 'N/A' }}</p>
      </div>
    </div>

    <button (click)="logout()" 
            style="margin-top:30px; padding:10px 25px; border:none; border-radius:8px; background:#1976d2; color:white; font-weight:600; cursor:pointer; transition:0.3s;"
            onmouseover="this.style.background='#1565c0';"
            onmouseout="this.style.background='#1976d2';">
      Logout
    </button>

  </div>
</div>

<!-- Responsive -->
<style>
@media (max-width: 768px) {
  div[style*="max-width:800px"] {
    margin:20px 10px;
  }
  div[style*="padding:90px 40px 30px 40px"] {
    padding:80px 20px 20px 20px !important;
  }
  div[style*="display:flex; flex-wrap:wrap"] {
    flex-direction:column;
    gap:15px;
  }
}
</style>
